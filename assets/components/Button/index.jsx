import React, { memo } from 'react';
import PropTypes from 'prop-types';
import Bem from '@utils/Bem';

import './style.scss';


const bem = new Bem('button');

function Button({
  loading,
  onClick,
}) {
  const handleClick = e => {
    e.preventDefault();

    onClick.call(e.currentTarget);
  };

  return (
    <button
      className={bem.block({ loading })}
      type='button'
      disabled={loading}
      onClick={handleClick}
    >

      {!loading && <Label />}
    </button>
  );
}

function Label() {
  return (
    <svg width="38" height="13" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M.148 12V.364H4.51c.894 0 1.644.166 2.25.5.61.333 1.07.791 1.381 1.375.314.58.472 1.238.472 1.977 0 .746-.158 1.409-.472 1.989A3.37 3.37 0 0 1 6.75 7.574c-.614.33-1.37.494-2.267.494H1.59V6.335h2.608c.523 0 .95-.09 1.284-.272a1.72 1.72 0 0 0 .739-.75c.162-.319.244-.684.244-1.097 0-.413-.082-.777-.244-1.091a1.66 1.66 0 0 0-.745-.733c-.333-.178-.763-.267-1.29-.267H2.256V12H.148ZM12.713.364V12h-2.108V.364h2.107ZM24.718.364V12h-1.875L17.36 4.074h-.097V12h-2.108V.364h1.887l5.477 7.932h.102V.364h2.097ZM34.97 4.08a3.01 3.01 0 0 0-.392-.824 2.536 2.536 0 0 0-.59-.631 2.383 2.383 0 0 0-.785-.392 3.27 3.27 0 0 0-.966-.136 3.02 3.02 0 0 0-1.67.471c-.489.315-.873.777-1.154 1.387-.276.606-.415 1.344-.415 2.215 0 .88.139 1.624.415 2.233.277.61.661 1.074 1.154 1.393.492.314 1.064.471 1.715.471.591 0 1.103-.114 1.535-.34.435-.228.77-.55 1.005-.967.235-.42.353-.913.353-1.477l.477.074h-3.16V5.909h4.722v1.398c0 .996-.212 1.858-.636 2.585a4.348 4.348 0 0 1-1.75 1.682c-.742.39-1.595.585-2.557.585-1.072 0-2.013-.24-2.824-.722-.806-.484-1.437-1.172-1.892-2.062-.45-.894-.676-1.955-.676-3.182 0-.94.133-1.778.398-2.517.269-.738.644-1.365 1.125-1.88A4.787 4.787 0 0 1 30.095.614a5.392 5.392 0 0 1 2.114-.41c.644 0 1.244.095 1.8.285.558.185 1.052.45 1.484.795.435.345.793.754 1.074 1.227.28.474.464.997.55 1.569H34.97Z" fill="#000" /></svg>
  );
}

Button.propTypes = {
  loading: PropTypes.bool,
  onClick: PropTypes.func,
};

Button.defaultProps = {
  loading: false,
  onClick: () => { },
}

export default memo(Button);
